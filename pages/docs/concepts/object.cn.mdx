---
title: 'Object'
---

import { Callout } from 'nextra-theme-docs'

# Object

`Object`很容易和`Class`混淆。与`Class`不同，你不能将`function`或“`method`赋值给`Object`。

```rust filename="lib.rs"
#[napi(object)]
pub struct Pet {
  pub name: String,
  pub kind: u32,
}
```

这个结构体的任何`impl`块都不会影响 JavaScript `Object`。

<Callout type="warning" emoji="⚠️">

如果你想将一个 Rust `struct` 转换为 JavaScript `Object`，使用`#[napi(object)]`属性，并且需要将其所有字段标记为`pub`。

</Callout>
一旦 `struct` 被标记为 `#[napi(object)]` ，你就可以将它用作函数的参数类型或返回类型。

```rust filename="lib.rs"
#[napi(object)]
pub struct Pet {
  pub name: String,
  pub kind: u32,
}

#[napi]
fn print_pet(pet: Pet) {
  println!("{}", pet.name);
}

#[napi]
fn create_cat() -> Pet {
  Pet {
    name: "cat".to_string(),
    kind: 1,
  }
}
```

<Callout type="warning" emoji="⚠️">

传入或从 Rust 返回的 JavaScript 对象是克隆的。这意味着
JavaScript 的 `Object`的任何变化都不会影响原来的 Rust
`struct`。Rust `struct` 上的任何变化都不会影响 JavaScript
`Object`。

</Callout>
